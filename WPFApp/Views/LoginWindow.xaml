<Window x:Class="WPFApp.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Iniciar sesión" Height="650" Width="400"
        Style="{StaticResource CustomWindowStyle}"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource BackgroundBrush}">

    

    <Window.InputBindings>
        <KeyBinding Key="Enter" 
                    Command="{Binding LoginCommand}" 
                    CommandParameter="{Binding ElementName=UserPasswordBox}"/>
    </Window.InputBindings>

    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="0,0,0,30">
            <TextBlock Text="PlayIT"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="{StaticResource PrimaryBrush}"
                       HorizontalAlignment="Center"/>
            <TextBlock Text="Bienvenido de nuevo"
                       FontSize="14"
                       Foreground="{StaticResource TextMutedBrush}"
                       HorizontalAlignment="Center"
                       Margin="0,5,0,0"/>
        </StackPanel>

        <StackPanel Grid.Row="1" VerticalAlignment="Center">

            <TextBlock Text="EMAIL" 
                       FontSize="12" 
                       FontWeight="Bold"
                       Foreground="{StaticResource TextMutedBrush}" 
                       Margin="0,0,0,5"/>

            <TextBox Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                     Height="40"
                     Margin="0,0,0,20"/>
            <TextBlock Text="CONTRASEÑA" 
                       FontSize="12" 
                       FontWeight="Bold"
                       Foreground="{StaticResource TextMutedBrush}" 
                       Margin="0,0,0,5"/>

            <PasswordBox x:Name="UserPasswordBox"
                         Height="40"
                         Margin="0,0,0,25"/>

            <Button Content="INICIAR SESIÓN"
                    Height="45"
                    Style="{StaticResource PrimaryButton}"
                    Command="{Binding LoginCommand}"
                    CommandParameter="{Binding ElementName=UserPasswordBox}"/>

            <TextBlock Text="{Binding ErrorMessage}"
                       Foreground="#FF5555"
                       TextWrapping="Wrap"
                       HorizontalAlignment="Center"
                       TextAlignment="Center"
                       Margin="0,15,0,0"/>
        </StackPanel>

        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,20,0,0">
            <TextBlock Text="¿Aún no tienes cuenta? " 
                       Foreground="{StaticResource TextMutedBrush}"/>

            <TextBlock Text="Regístrate gratis"
                       Foreground="{StaticResource PrimaryBrush}"
                       FontWeight="Bold"
                       Cursor="Hand"
                       TextDecorations="Underline">
                <TextBlock.InputBindings>
                    <MouseBinding MouseAction="LeftClick" 
                                  Command="{Binding NavigateToRegisterCommand}"/>
                </TextBlock.InputBindings>

                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource PrimaryLightBrush}"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
        </StackPanel>
    </Grid>
</Window>