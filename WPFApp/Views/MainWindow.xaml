<Window x:Class="WPFApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WPFApp"
        xmlns:dto="clr-namespace:DTOs"
        xmlns:controls="clr-namespace:WPFApp.Views.Controls"  Title="Videogames" Height="600" Width="1800"
        WindowStartupLocation="CenterScreen">
    <DockPanel>

        <controls:NavBarControl DockPanel.Dock="Top"
                                DataContext="{Binding NavbarVM}"/>

        <controls:SidebarControl DockPanel.Dock="Left"
                                 DataContext="{Binding SidebarVM}"/>

        <DockPanel>

            <controls:FilterControl DockPanel.Dock="Top" />

            <controls:PaginationControl DockPanel.Dock="Bottom" 
                                        DataContext="{Binding PaginationVM}"/>

            <Border Margin="10" BorderBrush="#CCC" BorderThickness="1">
                <ScrollViewer>
                    <ItemsControl ItemsSource="{Binding Games}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate DataType="{x:Type dto:GameDTOWithId}">
                                <Button Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type Window}}, Path=DataContext.GameSelectedCommand}"
                                        CommandParameter="{Binding}" 
                                        Background="Transparent" 
                                        BorderThickness="0"
                                        Cursor="Hand">
                                    <local:GameCard DataContext="{Binding}" Margin="5"/>
                                </Button>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Border>

        </DockPanel>
    </DockPanel>
</Window>